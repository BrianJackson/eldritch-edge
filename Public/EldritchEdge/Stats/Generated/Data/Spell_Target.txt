new entry "Target_EldritchSlash"
type "SpellData"
data "SpellType" "Target"
using "Target_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, Force);ExecuteWeaponFunctors(MainHand);ApplyStatus(BURNING_LAVA,100,2);ApplyStatus(BLEEDING,100,2);IF(HasStatus('PASSIVE_HEX',context.Target)):DealDamage(1d6,Fire);IF(HasStatus('PASSIVE_AGONIZING_BLAST',context.Source):DealDamage(CharismaModifier,Force);IF(HasStatus('PASSIVE_REPELLING_BLAST',context.Source):DealDamage(1d4,Force);ApplyStatus(PRONE,100,1, , , ,not SavingThrow(Ability.Strength, SourceSpellDC()))"
data "TargetConditions" "Character() and not Self()"
data "Icon" "Action_Slash"
data "DisplayName" "Malevolent Strike"
data "Description" "Deal weapon damage as force + necrotic damage. If the target is hexed, deal additional damage based on invocations."
data "DescriptionParams" "DealDamage(MainMeleeWeapon, Force);DealDamage(CharismaModifier+Level,Necrotic);"
data "TooltipAttackSave" "Strength"
data "UseCosts" "ActionPoint:1"
data "WeaponTypes" "Melee"
data "SpellFlags" "IsMelee;CannotTargetItems;CannotTargetTerrain;IsHarmful"


new entry "Target_OffhandWebAttack"
type "SpellData"
data "SpellType" "Target"
data "SpellProperties" "GROUND:DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType); GROUND:ExecuteWeaponFunctors(OffHand);GROUND:CreateSurface(3,10,Web);"
data "TargetRadius" "MeleeMainWeaponRange"
data "SpellRoll" "Attack(AttackType.MeleeOffHandWeaponAttack)"
data "SpellSuccess" "DealDamage(max(1,OffhandMeleeWeapon), Necrotic);ExecuteWeaponFunctors(OffHand);ApplyStatus(HOLD_PERSON,100,2);GROUND:CreateSurface(3,10,Web)"
data "TargetConditions" "not Self() and not Dead() and not Ally()"
data "Icon" "Spell_Conjuration_Web"
data "DisplayName" "Spider Eruption"
data "Description" "Rend your enemy's flesh and implant spider eggs.  Moments later, a swarm of tiny spiders feed on the target and spread webbing around the area"
data "DescriptionParams" "DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType);ApplyStatus(SPIDER_INFESTATION,100,4);GROUND:CreateSurface(3,10,Web)"
data "CastEffect" "VFX_Combat_Slash_Swoosh_01:Dummy_CastFX:CastSlash:0:None::None::0:0::::;VFX_Combat_Piercing_Swoosh_01:Dummy_CastFX:CastPierce:0:None::None::0:0::::"
data "PreviewCursor" "Melee"
data "CastTextEvent" "CastOffhand"
data "CycleConditions" "Character() and Enemy() and not Dead()"
data "UseCosts" "BonusActionPoint:1"
data "SpellAnimationArcaneMagic" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b(CMBT_Melee_RHand_Combat_01_Prepare);c1df9aea-8be9-4de3-bcbc-4e4c1e44dc37(CMBT_Melee_LHand_Combat_01_Antic);722df2d7-7898-4b0b-b930-5a850b55ccf0(CMBT_Melee_LHand_Combat_01_Attack);a693a7c3-e7e7-4edb-98dd-db5fd700663f(CMBT_Melee_LHand_Combat_01_Recover);7bb52cd4-0b1c-4926-9165-fa92b75876a3(CMBT_Melee_RHand_Combat_01_Loop);35f5cba8-3706-46d5-9a1e-2def9ba22473(CMBT_Melee_LHand_Combat_01_Dash)"
data "SpellAnimationDivineMagic" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b(CMBT_Melee_RHand_Combat_01_Prepare);c1df9aea-8be9-4de3-bcbc-4e4c1e44dc37(CMBT_Melee_LHand_Combat_01_Antic);722df2d7-7898-4b0b-b930-5a850b55ccf0(CMBT_Melee_LHand_Combat_01_Attack);a693a7c3-e7e7-4edb-98dd-db5fd700663f(CMBT_Melee_LHand_Combat_01_Recover);7bb52cd4-0b1c-4926-9165-fa92b75876a3(CMBT_Melee_RHand_Combat_01_Loop);35f5cba8-3706-46d5-9a1e-2def9ba22473(CMBT_Melee_LHand_Combat_01_Dash)"
data "SpellAnimationNoneMagic" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b(CMBT_Melee_RHand_Combat_01_Prepare);c1df9aea-8be9-4de3-bcbc-4e4c1e44dc37(CMBT_Melee_LHand_Combat_01_Antic);722df2d7-7898-4b0b-b930-5a850b55ccf0(CMBT_Melee_LHand_Combat_01_Attack);a693a7c3-e7e7-4edb-98dd-db5fd700663f(CMBT_Melee_LHand_Combat_01_Recover);7bb52cd4-0b1c-4926-9165-fa92b75876a3(CMBT_Melee_RHand_Combat_01_Loop);35f5cba8-3706-46d5-9a1e-2def9ba22473(CMBT_Melee_LHand_Combat_01_Dash)"
data "WeaponTypes" "Melee"
data "SpellFlags" "IsMelee;IsHarmful"
data "SpellAnimationIntentType" "Aggressive"

new entry "Target_EldritchWeapon_PH"
type "SpellData"
data "SpellType" "Target"
using "Target_MainHandAttack"
data "Icon" "Target_MainHandAttack"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon + CharismaModifier, Force)"
data "SpellSuccess" "DealDamage(MainMeleeWeapon + CharismaModifier, Force); ExecuteWeaponFunctors(MainHand); IF(WieldingFinesseWeapon() and HasPassive('AgonizingBlast')):DealDamage(CharismaModifier, Force); IF(HasStatus('HEX', context.Target) and WieldingFinesseWeapon() and HasPassive('AgonizingBlast', context.Source)):DealDamage(1d6, Necrotic); IF(not SavingThrow(Ability.Strength, SourceSpellDC()) and HasPassive('RepllingBlast', context.Source)):ApplyStatus('PRONE', 100, 1)"
data "DisplayName" "Eldritch Weapon"
data "Description" "Imbue your weapon with Eldritch power to deal force damage. When wielding a finesse weapon, Agonizing Blast channels your Eldritch Blast and Replling Blast can knock enemies prone."
data "TooltipAttackSave" "Strength"
data "CastSound" "Spell_Cast_Damage_Force_EldritchBlast_L1to3"
